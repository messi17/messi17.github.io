function lengthInUtf8Bytes(n){var t=encodeURIComponent(n).match(/%[89ABab]/g);return n.length+(t?t.length:0)}function makeEventNameProper(n){return n.substr(2).replace(/([a-z0-9])([A-Z])/g,"$1_$2").toUpperCase()}function addUserInteractionToDl(n,t){if(n&&n.issuer!=="api"){var r=window.movieInfo&&window.movieInfo.title,u=n.time||t.getCurrentTime(),i={event:gaPlayerEventName,eventCategory:"player/{PLAYER_VOD}",eventAction:"click",eventLabel:""};typeof matchInfos!="undefined"?(i.eventCategory="player/{PLAYER_PPV}",r=matchInfos.channelName+" \\ "+matchInfos.epgTitle):isLivePlayer?(i.eventCategory="player/{PLAYER_LIVE}",r=document.querySelector(".swiper-slide-item.item.active").dataset.title+" \\ "+ModelTvGuideSlider.currentEPGTitle,u=n.time||t.getTimeShift()):ModelPlayer&&ModelPlayer.playRequestModel.videoType===2&&(i.eventCategory="player/{PLAYER_TRAILER}");i.eventLabel=makeEventNameProper(n.type)+" | "+Number(u).toFixed()+" | "+r+" | "+location.href;dataLayer.push(i)}}function getDateTimeTicks(){return(new Date).getTime()*1e4+621355968000000000}function addHbToDatalayer(n){var t="player/{PLAYER_VOD}",i="";if(n.isLive())if(typeof matchInfos=="undefined"){t="player/{PLAYER_LIVE}";let r=!(ModelTvGuideSlider.currentEPGId===""&&ModelTvGuideSlider.currentEPGTitle==="");i=ModelTv.serverTicks+" | "+ModelTv.playRequestModel.channelId+" | "+ModelTvGuideSlider.currentEPGId+(r?" \\ ":"")+ModelTvGuideSlider.currentEPGTitle+" | "+n.getTimeShift().toFixed()+" |"}else t="player/{PLAYER_PPV}",i=getDateTimeTicks()+" | "+matchInfos.channelId+" | "+matchInfos.epgId+" \\ "+matchInfos.epgTitle+" | "+n.getTimeShift().toFixed()+" |";else ModelPlayer&&ModelPlayer.playRequestModel.videoType===2&&(t="player/{PLAYER_TRAILER}"),i=ModelPlayer.serverTicks+" | | "+ModelPlayer.playRequestModel.contentId+" | "+(followMeStartAt||n.getCurrentTime().toFixed())+" |";dataLayer.push({event:gaPlayerEventName,eventCategory:t,eventAction:"heartBeat",eventLabel:i})}function gaTrackVideoEvents(n,t){if(isNullOrUndefined(n)){Log(" GAnalytics: Video event name could not found!");return}var r=0,f=0,u=bitmovin.player().getDuration(),i=bitmovin.player().getCurrentTime();followMeStartAt>0&&n==GaVideoEventNameConstants.Play&&(i=followMeStartAt);isNullOrUndefined(u)&&(u=0);u>0&&(r=i/u);isNullOrUndefined(seekStartingPoint)||(f=i-seekStartingPoint);switch(n){case GaVideoEventNameConstants.Play:case GaVideoEventNameConstants.Pause:case GaVideoEventNameConstants.Resume:case GaVideoEventNameConstants.Finished:dataLayer.push({event:n,currentProgress:i.toString().toHHMMSS(),currentProgressRate:r.toFixed(2)});break;case GaVideoEventNameConstants.Seek:seekStartingPoint>0&&dataLayer.push({event:n,currentProgress:i.toString().toHHMMSS(),currentProgressRate:r.toFixed(2),oldProgressPoint:toHHMMSS_Ga(seekStartingPoint),timeDifference:toHHMMSS_Ga(f)});break;case GaVideoEventNameConstants.FullScreen:dataLayer.push({event:n,currentProgress:i.toString().toHHMMSS(),currentProgressRate:r.toFixed(2),isFullScreen:"Yes"});break;case GaVideoEventNameConstants.ExitFullScreen:dataLayer.push({event:n,currentProgress:i.toString().toHHMMSS(),currentProgressRate:r.toFixed(2),isFullScreen:"No"});break;case GaVideoEventNameConstants.ChangeResolution:dataLayer.push({event:n,currentProgress:i.toString().toHHMMSS(),currentProgressRate:r.toFixed(2),videoResolution:t});break;case GaVideoEventNameConstants.AutoPlayNextEpisode:case GaVideoEventNameConstants.PlayEpisode:dataLayer.push({event:n,contentLength:u.toString().toHHMMSS(),currentEpisode:t})}}function gaTrackLiveTVInfo(n,t){var i=$(".swiper-slide-live-detail.channel-active > a").data("cat2");isNullOrUndefined(i)&&(i="");dataLayer.push({event:"videoInfo",channelName:n,contentId:t,contentCat:i,isLiveTV:"Yes"})}var fp=!0,followMeStartAt,rightTimeText,seekStartingPoint="",seekStarted=!1,firstPlay=!0,trackingUrlDynmic,isLivePlayer=!1,volumeEventCounter=0,gaPlayerEventName="playerEvent",gaPlays=!1,watchingOptions,watchingOptionsEnabled=!1,GaVideoEventNameConstants={Play:"videoPlay",Pause:"videoPause",Resume:"videoResume",Seek:"videoSeek",Finished:"videoCompleted",FullScreen:"videoGoFullScreen",ExitFullScreen:"videoExitFullScreen",ChangeSubs:"videoChangeSubs",ChangeResolution:"videoChangeRes",ChangeAudio:"videoChangeAudio",PlayEpisode:"playEpisode",AutoPlayNextEpisode:"autoPlayNextEpisode"},BitmovinPlayer=function(){function w(n,t,i){n!=null?(r!==null&&(clearTimeout(r),r=null),t=parseInt(t),i=parseInt(i),n=n.replace("{total}",t).replace("{current}",i),r=setTimeout(function(){$.get(n).always(function(){clearTimeout(r);r=null})},3e3)):console.log("followMe url is empty.")}function ut(t,i,r,u){r.source.dash!=""&&r.source.dash!=undefined&&(r.source.dash=t.data.split(";")[0]);r.source.hls!=""&&r.source.hls!=undefined&&(r.source.hls=t.data.split(";")[0]);r.source.smooth!=""&&r.source.smooth!=undefined&&(r.source.smooth=t.data.split(";")[0]);r.source.progressive!=""&&r.source.progressive!=undefined&&(r.source.progressive=t.data.split(";")[0]);u.source.drm!=null&&u.source.drm.drmType==n.drmType.Fairplay?b(r,i):i.isSetup()?i.load(r.source):(i.setup(r),new PlayerKeyboardControl(i))}function b(n,t){$.get(n.source.hls,function(i){var r="skd://",u=i.indexOf(r)+r.length,f=i.indexOf('"',u),e=i.substring(u,f),o={name:"X-CB-ContentId",value:e};n.source.drm.fairplay.headers.push(o);t.isSetup()?t.load(n.source):(t.setup(n),new PlayerKeyboardControl(t))})}function ft(n){var t=$(".bmpui-ui-settings-panel-item"),i=t[0],r=t[1],e=t[2],u=t[3],f=t[4],h=$(".bmpui-ui-watermark"),o,s;e!=null&&$(e).find("span").html("Ses");f!=null&&($(f).find("span").html("Altyazı"),setTimeout(function(){$(f).find('select option[value="null"]').text("Kapalı")},600));u!=null&&($(u).find("span").html("Ses Kalitesi"),n.player.showaudioquality!=!0&&$(u).addClass("bmpui-hidden"));r!=null&&($(r).find("span").html("Hız"),n.player.showspeed!=!0&&$(r).addClass("bmpui-hidden"));i!=null&&($(i).find("span").html("Video Kalitesi"),n.player.showvideoquality!=!0&&$(i).addClass("bmpui-hidden"));o=t.length;s=$(".bmpui-ui-settings-panel-item.bmpui-hidden").length;o==s&&$(".bmpui-ui-settingstogglebutton").addClass("bmpui-hidden")}function et(t){switch(t.source.drm.licensetype){case n.licenseType.CASTLEBLACK:s=d.replace("#version#",t.source.drm.version);h=g.replace("#version#",t.source.drm.version);c=nt.replace("#version#",t.source.drm.version);break;case n.licenseType.ERSTREAM:s=y;h=p;c=k.replace("#version#",t.source.drm.version)}v(t.source.drm.widevineLicenseServer)||(s=t.source.drm.widevineLicenseServer);v(t.source.drm.playreadyLicenseServer)||(h=t.source.drm.playreadyLicenseServer);v(t.source.drm.fairplayLicenseServer)||(c=t.source.drm.fairplayLicenseServer)}function ot(t){switch(t.source.drm.drmType){case n.drmType.Widevine:case n.drmType.Playready:switch(t.source.drm.licensetype){case n.licenseType.CASTLEBLACK:return[{name:"Authorization",value:"Bearer "+t.source.drm.token},{name:"X-CB-Ticket",value:t.source.drm.ticket}];case n.licenseType.ERSTREAM:return[{name:"X-ErDRM-Message",value:t.source.drm.ticket}]}break;case n.drmType.Fairplay:switch(t.source.drm.licensetype){case n.licenseType.CASTLEBLACK:return[{name:"Authorization",value:"Bearer "+t.source.drm.token},{name:"X-CB-Ticket",value:t.source.drm.ticket},{name:"Content-Type",value:"application/json"}]}}}function st(n,t){return{widevine:{LA_URL:s,withCredentials:n.source.drm.withCredentials,maxLicenseRequestRetries:n.source.drm.maxLicenseRequestRetries,licenseRequestRetryDelay:n.source.drm.licenseRequestRetryDelay,headers:t,prepareLicense:function(n){var f={license:n.license},t,r,u,i;try{if(t=JSON.parse(String.fromCharCode.apply(null,n.license)),t&&t.Status&&t.License)if(t.Status=="OK"){for(r=window.atob(t.License),u=new Uint8Array(new ArrayBuffer(r.length)),i=0;i<r.length;i++)u[i]=r.charCodeAt(i);f.license=u}else console.log("license not okay");else console.log("no valid Digiturk license")}catch(e){console.log("no valid Digiturk license, exception:"+e.message)}return f}},playready:{LA_URL:h,withCredentials:n.source.drm.withCredentials,maxLicenseRequestRetries:n.source.drm.maxLicenseRequestRetries,licenseRequestRetryDelay:n.source.drm.licenseRequestRetryDelay,headers:t},fairplay:{LA_URL:c,certificateURL:tt.replace("#version#",n.source.drm.version),certificateHeaders:[{name:"Authorization",value:"Bearer "+n.source.drm.token}],headers:t,prepareMessage:function(n){var t={Spc:n.messageBase64Encoded};return JSON.stringify(t)},prepareContentId:function(n){var r=n.split("/"),t=r[r.length-1],i;return t.indexOf("?")>-1&&(i=t.split("?"),i.length>1&&(t=i[0])),t},prepareLicense:function(n){var t=JSON.parse(n);return t.Result}}}}function ht(t,i,r){switch(t.source.streamType){case n.streamType.DASH:i.dash=t.source.file;i.labeling={dash:r};break;case n.streamType.HLS:i.hls=t.source.file;i.labeling={hls:r};break;case n.streamType.SmoothStream:i.smooth=t.source.file;i.labeling={smooth:r};break;case n.streamType.MP4:i.progressive=t.source.file;i.labeling={progressive:r};break;default:console.log(t.streamType)}}function ct(t){if(t.player.key==""){console.error("player key is empty.");return}if(t.player.container==""||$("#"+t.player.container)==null||$("."+t.player.container)==null){console.error("player container not found.");return}if(t.source.streamType==""||t.source.streamType==null||t.source.streamType==undefined){console.error("streamType not found.");return}if(t.source.file==""){console.error("source not found.");return}if(t.source.drm!=null){if(t.source.drm.licensetype==n.licenseType.CASTLEBLACK&&t.source.drm.token==""){console.error("token is empty. Not Authorization.");return}if(t.source.drm.licensetype==n.licenseType.CASTLEBLACK&&t.source.drm.contentId==""){console.error("contentId not found.");return}if(t.source.drm.drmType==""||t.source.drm.drmType==null||t.source.drm.drmType==undefined){console.error("drmType not found.");return}}}function v(n){var t=!1;return n||(t=!0),t}var y="https://wdvn.blutv.com",p="http://digiturk-drm.ercdn.com/playready/rightsmanager.asmx?op=AcquireLicense",k="https://castleblack.digiturk.com.tr/api/fairplay/license?version=#version#",d="https://castleblack.digiturk.com.tr/api/widevine/license?version=#version#",g="https://castleblack.digiturk.com.tr/api/playready/license?version=#version#",nt="https://castleblack.digiturk.com.tr/api/fairplay/license?version=#version#",s="",h="",c="",tt="https://castleblack.digiturk.com.tr/api/fairplay/certificate?version=#version#",e=null,t=null,it=!1,l=null,a=0,u={None:0,FirstChange:1,Changed:2},i={None:0,FirstSeek:1,Seeked:2},o=u.None,f=i.None,lt={None:0,FirstPlay:1,Played:2}.None,rt={getManifest:function(n,t,i,r,u){var f=new XMLHttpRequest;n=n.replace("action=redirect","action=csv");n=n.replace("action=asx","action=csv");f.open("GET",n,!0);f.timeout=0;f.withCredentials=!1;f.onload=function(n){var f=n.target,e;f.status>=200&&f.status<=299&&u!="undefined"&&u!=null&&(e={data:f.response},u(e,t,i,r))};f.onerror=function(){};f.ontimeout=function(){};f.send()}},n=this,r;n.licenseType={NONE:0,CASTLEBLACK:1,ERSTREAM:2};n.language={tr:"Türkçe",en:"İngilizce",fr:"Fransızca",de:"Almanca",org:"Orijinal"};n.streamType={NONE:0,DASH:1,SmoothStream:2,HLS:3,MP4:4};n.drmType={None:0,Widevine:1,Playready:2,Fairplay:3};n.assetType={NONE:0,DUB:1,ORG:2};n.startHb=function(n){var i=isNaN(window.heartBeatFrequency)?60:window.heartBeatFrequency;(l===null||new Date-l>=1e3*i)&&(addHbToDatalayer(n),l=new Date);t&&clearInterval(t);t=setInterval(function(){l=new Date;addHbToDatalayer(n)},1e3*i)};n.configModel={player:{key:"",container:"",width:640,height:640,autoplay:!1,showvideoquality:!1,showaudioquality:!1,showspeed:!1,muted:!1},source:{streamType:n.streamType.DASH,file:"",title:"",description:"",poster:"",assetType:n.assetType.NONE,drm:{version:"1.0",licensetype:"",widevineLicenseServer:"",playreadyLicenseServer:"",fairplayLicenseServer:"",withCredentials:!1,maxLicenseRequestRetries:10,licenseRequestRetryDelay:1e3,contentId:"",token:"",ticket:"",drmType:n.drmType.Widevine}},tracking:{interval:120,trackingUrl:"",startAt:0},events:{onPlay:function(){},onError:function(){},onReady:function(){},onStop:function(){},onPaused:function(){},onSeek:function(){},onSeeked:function(){},onStartBuffering:function(){},onStopBuffering:function(){},onFinished:function(){},onTimeShifted:function(){},onTimeShift:function(){},onSourceLoaded:function(){},onFullScreen:function(){}}};followMeStartAt=0;n.Setup=function(r,s){var g,c,l,k,at,vt,h;r==null?r=n.configModel:n.configModel=r;r.tracking&&(followMeStartAt=r.tracking.startAt,trackingUrlDynmic=r.tracking.trackingUrl);r.watchingOptions&&(watchingOptions=r.watchingOptions);ct(r);g=location.protocol.indexOf("https")>-1;c=r.source.file;g?(c=c.replace("http://","https://"),c.indexOf("switch")>-1&&(c+=c.indexOf("?")>-1?"&secure=1":"?secure=1")):c=c.replace("https://","http://");r.source.file=c;l=y;l=g?l.replace("http://","https://"):l.replace("https://","http://");y=l;k=p;k=g?k.replace("http://","https://"):k.replace("https://","http://");p=k;s==undefined&&(s=r.source.drm!=null&&r.source.drm!=undefined);var tt={dash:"",hls:"",smooth:"",progressive:"",title:r.source.title,description:r.source.description,poster:r.source.poster},pt=function(n){return n.label},lt=0,wt=function(t){return t.mimeType.indexOf("audio")<0||lt>0?n.language[t.lang]:(lt++,n.language[t.lang]+" (Orijinal)")},bt={subtitles:pt,tracks:wt};ht(r,tt,bt);s&&(et(r),r.source.drm.ticket=r.source.drm.ticket.replace("ticket=",""),at=ot(r),vt=st(r,at),tt.drm=vt);h=bitmovin.player(r.player.container);n.player=h;var d=null,yt=!1,nt={key:r.player.key,events:{onReady:function(t){var u,i;if(ft(r),r.events.onReady!=null)r.events.onReady(t);isLivePlayer=h.isLive();u=[];yt||(yt=!0,i="{PLAYER_LIVE}",n.player.isLive()==!1&&(i="{PLAYER_VOD}",ModelPlayer&&ModelPlayer.playRequestModel.videoType===2&&(i="{PLAYER_TRAILER}")),$(".bmpui-ui-settingstogglebutton").click(function(){var n={event:gaPlayerEventName,eventCategory:"player/floating/"+i,eventAction:"click",eventLabel:"Settings Opened"};$(this).hasClass("bmpui-off")&&(n.eventLabel="Settings Closed");window.dataLayer.push(n)}),$(".bmpui-ui-settings-panel select").change(function(){dataLayer.push({event:gaPlayerEventName,eventCategory:"player/floating/"+i,eventAction:"select",eventLabel:$(this).prev().text()+" | "+$(this).find("option:selected").text()})}))},onPlay:function(t){if(n.player.isLive()&&($(".bmpui-ui-playbacktimelabel-live").html("canli"),$(".bmpui-ui-playbacktimelabel-live-edge").html("canli")),r.tracking!=null){var i=r.tracking.interval*1e3;e=setInterval(function(){w(trackingUrlDynmic,h.getDuration(),h.getCurrentTime())},i);followMeStartAt>0&&setTimeout(function(){h.seek(followMeStartAt);followMeStartAt=0},200)}if(setTimeout(function(){n.player.isLive()||(rightTimeText=$(".bmpui-ui-playbacktimelabel.bmpui-text-right"),rightTimeText.after('<span class="bmpui-ui-playbacktimelabel bmpui-text-right"><\/span>'),rightTimeText.remove())},3e3),r.events.onPlay!=null)r.events.onPlay(t);v(gaEpisodeInfo)||(gaTrackVideoEvents(gaEpisodeInfo.type,gaEpisodeInfo.value),firstPlay=!0,gaEpisodeInfo="");gaPlays=!0;firstPlay?(gaTrackVideoEvents(GaVideoEventNameConstants.Play),firstPlay=!1):seekStarted||(gaTrackVideoEvents(GaVideoEventNameConstants.Resume),addUserInteractionToDl(t));n.startHb(n.player)},onError:function(n){if(clearInterval(t),r.events.onError!=null)r.events.onError(n)},onSegmentPlayback:function(){n.player.isLive()||d||(d=setInterval(function(){var n=(h.getDuration()-h.getCurrentTime()).toString().toHHMMSS();$(".bmpui-ui-playbacktimelabel.bmpui-text-right").html(n)},1e3),fp=!1)},onDestroy:function(){d&&(clearInterval(d),d=null);e&&(clearInterval(e),e=null);t!==null&&(clearInterval(t),t=null)}},onFullScreen:function(){},playback:{autoplay:r.player.autoplay,muted:r.player.muted},style:{width:r.player.width,height:r.player.height,bufferingOverlay:!1},source:tt};h.isSetup()||(h.addEventHandler("onPaused",function(n){if(it=!0,r.tracking!=null&&w(trackingUrlDynmic,h.getDuration(),h.getCurrentTime()),r.events.onPaused!=null)r.events.onPaused(n);setTimeout(function(){seekStarted||seekStartingPoint!=0||(gaTrackVideoEvents(GaVideoEventNameConstants.Pause),addUserInteractionToDl(n))})}),h.addEventHandler(bitmovin.player.EVENT.ON_FULLSCREEN_ENTER,function(n){$("video").height()<400&&$("video").addClass("f-screen-def");gaTrackVideoEvents(GaVideoEventNameConstants.FullScreen);addUserInteractionToDl(n,h)}),h.addEventHandler(bitmovin.player.EVENT.ON_FULLSCREEN_EXIT,function(n){$("video").hasClass("f-screen-def")&&$("video").removeClass("f-screen-def");gaTrackVideoEvents(GaVideoEventNameConstants.ExitFullScreen);addUserInteractionToDl(n,h)}),h.addEventHandler(bitmovin.player.EVENT.ON_MUTED,function(n){addUserInteractionToDl(n,h)}),h.addEventHandler(bitmovin.player.EVENT.ON_UNMUTED,function(n){addUserInteractionToDl(n,h)}),h.addEventHandler(bitmovin.player.EVENT.ON_VOLUME_CHANGED,function(n){volumeEventCounter>1&&addUserInteractionToDl(n,h);volumeEventCounter++}),h.addEventHandler(bitmovin.player.EVENT.ON_VIDEO_QUALITY_CHANGED,function(n){var t=document.getElementById("bmpui-id-125").selectedIndex,i=document.getElementById("bmpui-id-125")[t].innerText;gaTrackVideoEvents(GaVideoEventNameConstants.ChangeResolution,i);addUserInteractionToDl(n,h)}),h.addEventHandler("onSeek",function(n){if(f==i.None&&(f=i.FirstSeek),a=n.seekTarget,r.events.onSeek!=null)r.events.onSeek(n);seekStarted=!1;firstPlay||(seekStartingPoint=n.position,seekStarted=!0,addUserInteractionToDl(n,h))}),h.addEventHandler("onSeeked",function(n){if(r.tracking==null||h.isPlaying()||w(trackingUrlDynmic,h.getDuration(),h.getCurrentTime()),r.events.onSeeked!=null)r.events.onSeeked(n);firstPlay||(seekStarted=!1,gaTrackVideoEvents(GaVideoEventNameConstants.Seek),seekStartingPoint=0)}),h.addEventHandler("onStallStarted",function(n){if(r.events.onStartBuffering!=null)r.events.onStartBuffering(n)}),h.addEventHandler("onStallEnded",function(n){if(o==u.FirstChange&&f!=i.Seeked&&(h.seek(a),f=i.Seeked,o=u.Changed),n.bufferLength=h.getVideoBufferLength(),r.events.onStopBuffering!=null)r.events.onStopBuffering(n)}),h.addEventHandler("onPlaybackFinished",function(n){if(clearInterval(e),r.events.onFinished!=null)r.events.onFinished(n);gaPlays&&gaTrackVideoEvents(GaVideoEventNameConstants.Finished);gaPlays=!1;firstPlay=!0}),h.addEventHandler("onTimeShifted",function(n){if(r.events.onTimeShifted!=null)r.events.onTimeShifted(n)}),h.addEventHandler("onTimeShift",function(n){if(addUserInteractionToDl(n,h),r.events.onTimeShift!=null)r.events.onTimeShift(n)}),h.addEventHandler(bitmovin.player.EVENT.ON_SOURCE_LOADED,function(n){if(watchingOptionsEnabled=!1,r.events.onSourceLoaded!=null)r.events.onSourceLoaded(n)}),h.addEventHandler("onAudioChanged",function(n){if(a=n.time,o==u.None&&(o=u.FirstChange),(o==u.FirstChange||f==i.FirstSeek)&&setTimeout(function(){h.seek(a);f=i.Seeked},200),r.events.onAudioChanged!=null)r.events.onAudioChanged(n)}),h.addEventHandler(bitmovin.player.EVENT.ON_READY,function(){watchingOptions&&(n.setSubtitleTrackByLang(watchingOptions.SubtitleTrack),n.setAudioTrackByLang(watchingOptions.AudioTrack));var t=setTimeout(function(){clearTimeout(t);watchingOptionsEnabled=!0},3e3)}),h.addEventHandler(bitmovin.player.EVENT.ON_SUBTITLE_CHANGED,function(n){if(watchingOptionsEnabled){var r=n.targetSubtitle,t=h.getAudio(),i={SubtitleTrack:r.lang?r.lang.toUpperCase():null,AudioTrack:t.id==h.getAvailableAudio()[0].id?"ORG":t.lang?t.lang.toUpperCase():null},u=$(".bmpui-ui-settings-panel-item")[4];u&&setTimeout(function(){$(u).find('select option[value="null"]').text("Kapalı")},50);typeof AddAntiForgeryToken=="function"&&(i=AddAntiForgeryToken(i));$.ajax({type:"POST",xhrFields:{withCredentials:!0},url:"/Content/WatchingOptions",data:i})}}),h.addEventHandler(bitmovin.player.EVENT.ON_AUDIO_CHANGED,function(n){if(watchingOptionsEnabled){var r=h.getSubtitle(),t=n.targetAudio,i={SubtitleTrack:r.lang?r.lang.toUpperCase():null,AudioTrack:t.id==h.getAvailableAudio()[0].id?"ORG":t.lang?t.lang.toUpperCase():null};typeof AddAntiForgeryToken=="function"&&(i=AddAntiForgeryToken(i));$.ajax({type:"POST",xhrFields:{withCredentials:!0},url:"/Content/WatchingOptions",data:i})}}));r.source.file.indexOf("switch=castup")>-1?rt.getManifest(r.source.file,h,nt,r,ut):r.source.drm!=null&&r.source.drm.drmType==n.drmType.Fairplay?b(nt,h):h.isSetup()?h.load(nt.source):(h.setup(nt),new PlayerKeyboardControl(h))};r=null;n.isSetup=function(){return!n.player||!n.player.isSetup()?!1:n.player.isSetup()};n.unLoad=function(){if(!n.player||!n.player.isSetup())return null;n.player.unload()};n.play=function(t,i){if(!n.player||!n.player.isSetup())return null;t!=null&&n.setAudio(t);i!=null&&n.setSubtitle(i);n.player.play()};n.setTimeShift=function(t){if(!n.player||!n.player.isSetup())return null;n.player.timeShift(t)};n.getTimeShift=function(){return!n.player||!n.player.isSetup()?null:n.player.getTimeShift()};n.getCurrentTime=function(){return!n.player||!n.player.isSetup()?null:n.player.getCurrentTime()};n.getSubtitles=function(){return!n.player||!n.player.isSetup()?null:n.player.getAvailableSubtitles()};n.setSubtitle=function(t){n.player&&n.player.isSetup()&&n.player.setSubtitle(t.id)};n.getAudios=function(){return!n.player||!n.player.isSetup()?null:n.player.getAvailableAudio()};n.setAudio=function(t){n.player&&n.player.isSetup()&&n.player.setAudio(t.id)};n.destroy=function(){n.player.destroy()};n.setSubtitleTrackByLang=function(t){if(!t){n.player.setSubtitle(null);return}var i=n.player.getAvailableSubtitles().filter(function(n){if(n.kind=="subtitle")return n.lang?n.lang.toLowerCase()==t.toLowerCase():!1});i.length>0?n.player.setSubtitle(i[0].id):n.player.setSubtitle(null)};n.setAudioTrackByLang=function(t){if(t){var i=n.player.getAvailableAudio().filter(function(n){return n.lang.toLowerCase()==t.toLowerCase()});i.length>0&&n.player.setAudio(i[0].id)}}};String.prototype.toHHMMSS=function(){var r=parseInt(this,10),n=Math.floor(r/3600),t=Math.floor((r-n*3600)/60),i=r-n*3600-t*60;return n<10&&(n="0"+n),t<10&&(t="0"+t),i<10&&(i="0"+i),n+":"+t+":"+i};console.log("bitmovinPlayerWrapper","bitmovin wrapper script is up to date.")
